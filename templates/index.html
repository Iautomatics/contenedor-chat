<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Robotik IA</title>
    <!-- âœ… AdaptaciÃ³n para mÃ³viles -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
      :root { 
        --bg: #0f1117;
        --card: rgba(255, 255, 255, 0.05);
        --border: rgba(255, 255, 255, 0.1);
        --user-bubble: #1a2231;
        --assistant-bubble: #121820;
        --text: #e7eaf0;
        --text-dim: #a6adbb;
        --primary: #7c8cff;
        --accent: #3dd9c4;
        --radius: 16px;
        --shadow: 0 8px 30px rgba(0,0,0,0.35);
      }
      body {
        margin: 0;
        font-family: "Inter", Arial, sans-serif;
        background: var(--bg);
        color: var(--text);
        display: flex;
        flex-direction: column;
        height: 100vh;
      }
      h2 {
        padding: 16px;
        margin: 0;
        font-weight: 600;
        border-bottom: 1px solid var(--border);
        background: linear-gradient(90deg, var(--assistant-bubble), transparent);
        font-size: 1.2rem;
      }
      #box {
        flex: 1;
        padding: 16px;
        overflow-y: auto;
        background: var(--bg);
      }
      .message {
        max-width: 700px;
        margin: 0 auto 14px;
        display: flex;
        gap: 10px;
        animation: fadeIn 220ms ease-out;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(4px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .bubble {
        padding: 12px 14px;
        border-radius: var(--radius);
        border: 1px solid var(--border);
        box-shadow: var(--shadow);
        line-height: 1.5;
        position: relative;
        flex: 1;
        word-wrap: break-word; /* âœ… evita desbordes en mÃ³vil */
      }
      .bubble.user {
        background: var(--user-bubble);
        border-color: rgba(124,140,255,0.25);
        align-self: flex-end;
      }
      .bubble.assistant {
        background: var(--assistant-bubble);
        border-color: rgba(61,217,196,0.18);
        align-self: flex-start;
      }
      .meta {
        margin-top: 6px;
        font-size: 12px;
        color: var(--text-dim);
      }
      .thinking {
        font-style: italic;
        color: var(--text-dim);
      }
      .input-area {
        display: flex;
        padding: 12px;
        border-top: 1px solid var(--border);
        background: var(--assistant-bubble);
      }
      input {
        flex: 1;
        padding: 10px 12px;
        border-radius: var(--radius);
        border: 1px solid var(--border);
        background: var(--card);
        color: var(--text);
        font-size: 15px;
        outline: none;
      }
      button {
        margin-left: 8px;
        padding: 10px 14px;
        border-radius: var(--radius);
        border: none;
        background: linear-gradient(90deg, var(--primary), var(--accent));
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        box-shadow: var(--shadow);
        transition: 180ms ease;
        flex-shrink: 0; /* âœ… evita que se achique demasiado */
      }
      button:hover {
        transform: translateY(-1px);
        filter: brightness(1.05);
      }

      /* âœ… Ajustes para pantallas pequeÃ±as */
      @media (max-width: 480px) {
        h2 { font-size: 1rem; padding: 12px; }
        .bubble { font-size: 14px; padding: 10px; }
        .input-area { flex-direction: column; gap: 8px; }
        button { width: 100%; margin-left: 0; }
      }
    </style>

    <!-- LibrerÃ­as para Markdown y resaltado -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      marked.setOptions({
        breaks: true,
        gfm: true,
        highlight: function (code, lang) {
          try {
            if (lang && hljs.getLanguage(lang)) {
              return hljs.highlight(code, { language: lang }).value;
            }
            return hljs.highlightAuto(code).value;
          } catch { return code; }
        },
      });
      // ... tu JS de mensajes igual que antes ...
    </script>
  </head>
  <body>
    <h2>ðŸ’¬ Habla con Robotik</h2>
    <div id="box"></div>
    <div class="input-area">
      <input id="msg" type="text" placeholder="Escribe tu mensaje..." />
      <button onclick="sendMessage()">Enviar</button>
    </div>
  </body>
</html>
